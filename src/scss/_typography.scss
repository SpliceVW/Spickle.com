/*  Typography

    Follows the principles of:
     * modular scale 
     * vertical rhythm (http://webtypography.net/2.2.2)
*/

@import '~sass-math-pow/sass/math-pow';

//fonts
$font-header: 'Lato', Helvetica, sans-serif;
$font-body: 'Roboto', Arial, sans-serif;

//vertical rhythm units
$vru: 1.6;
$vru-em: #{$vru}em;
$vru-rem: #{$vru}rem;
$vru-margin-min: 1.25;

//size of one character
$charSize: .37em;

$scale-modifier: 1.5;


@mixin scale($magnitude, $includeMargin: true)
{
    $modular-size: 1;
    @if $magnitude != 0 
    {
        $modular-size: poly-pow($scale-modifier,$magnitude);
    }

    $margin-vrus: ceil($modular-size / $vru);

    @if $margin-vrus == 0
    {
        $margin-vrus: 1;
    }
    @else if ( $margin-vrus * $vru ) / $modular-size < $vru-margin-min
    {
        $margin-vrus: $margin-vrus + 1;
    }

    $margin-size: #{( $margin-vrus * $vru )}rem;
    
    font-size: #{$modular-size}rem;
    line-height: $margin-size;

    @if $includeMargin == true
    {
        margin-bottom: 0;
        margin-top: $margin-size;

        &:first-child, &.first-child
        {
            margin-top: 0;
        }
    }
}

html
{
    font-size: 125%;
}

%headings
{
    font-family: $font-header;
    font-weight: 900;
}

h1, %h1
{
    @extend %headings;
    @include scale(4);
}

h2, %h2
{
    @extend %headings;
    @include scale(3);
}

h3, %h3
{
    @extend %headings;
    @include scale(2);
}

h4, %h4
{
    @extend %headings;
    @include scale(1);
}

body
{
    @include scale($magnitude: 0, $includeMargin: false);
    font-family: $font-body;
    padding: 0;
}

%blocks
{
    margin-top: $vru-rem;
    margin-bottom: 0;
}

p
{
    @extend %blocks;
}

%lists
{
    @extend %blocks;
}

ul
{
    @extend %lists;
}

ol
{
    @extend %lists;
}